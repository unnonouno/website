
  
  
 
  
 


<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Graph &mdash; Jubatus</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Jubatus" href="index.html" />
    <link rel="up" title="Client API" href="api.html" />
    <link rel="next" title="Methods" href="method.html" />
    <link rel="prev" title="Stat" href="api_stat.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">Jubatus</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_distributed.html">Setup in Distributed Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtocontribute.html">How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="aboutus.html">About Us</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Graph</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#data-structures">Data Structures</a></li>
<li><a class="reference internal" href="#usage-of-properties-and-queries">Usage of Properties and Queries</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="api_stat.html"
         title="Previous Chapter: Stat">&laquo; Stat</a></li>
  <li><a href="method.html"
         title="Next Chapter: Methods">Methods &raquo;</a></li>
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="_sources/api_graph.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="graph">
<h1>Graph<a class="headerlink" href="#graph" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>See <a class="reference external" href="https://github.com/jubatus/jubatus/blob/master/jubatus/server/server/graph.idl">IDL definition</a> for detailed specification.</li>
</ul>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration is given as a JSON file.
We show each filed below:</p>
<dl class="describe">
<dt>
<tt class="descname">method</tt></dt>
<dd><p>Specify algorithm for graph analysis.
You can use these algorithms.</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Method</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&quot;graph_wo_index&quot;</span></tt></td>
<td>Use graph without index.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">parameter</tt></dt>
<dd><p>Specify parameters for the algorithm.
Its format differs for each <tt class="docutils literal"><span class="pre">method</span></tt>.</p>
<dl class="docutils">
<dt>graph_wo_index</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">damping_factor:</th><td class="field-body">Damping factor for PageRank.
It adjusts scores for nodes with differenct degrees.
The bigger it is, the more sensitive to graph structure PageRank score is, but the larger  biases it causes.
In the original paper, 0.85 is good.
(Float)</td>
</tr>
<tr class="field-even field"><th class="field-name">landmark_num:</th><td class="field-body">The number of landmarks for shortest path calculation.
The bigger it is, more accurate value you can get, but the more memory is required.
(Integer)</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="docutils">
<dt>Example:</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;method&quot;</span> <span class="o">:</span> <span class="s2">&quot;graph_wo_index&quot;</span><span class="p">,</span>
  <span class="s2">&quot;parameter&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;damping_factor&quot;</span> <span class="o">:</span> <span class="mf">0.9</span><span class="p">,</span>
    <span class="s2">&quot;landmark_num&quot;</span> <span class="o">:</span> <span class="mi">5</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<dl class="message">
<dt id="node">
<em class="property">message </em><tt class="descname">node</tt><a class="headerlink" href="#node" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the node information.</p>
<dl class="member">
<dt id="node::property__m:s.s:">
0: map&lt;string, string&gt; <tt class="descname">property</tt><a class="headerlink" href="#node::property__m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Property information for the node.</p>
</dd></dl>

<dl class="member">
<dt id="node::in_edges__l:L:">
1: list&lt;ulong&gt; <tt class="descname">in_edges</tt><a class="headerlink" href="#node::in_edges__l:L:" title="Permalink to this definition">¶</a></dt>
<dd><p>List of ID of incoming edges.</p>
</dd></dl>

<dl class="member">
<dt id="node::out_edges__l:L:">
2: list&lt;ulong&gt; <tt class="descname">out_edges</tt><a class="headerlink" href="#node::out_edges__l:L:" title="Permalink to this definition">¶</a></dt>
<dd><p>List of ID of outgoing edges.</p>
</dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">node</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span>  <span class="n">property</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">ulong</span><span class="o">&gt;</span>  <span class="n">in_edges</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">ulong</span><span class="o">&gt;</span>  <span class="n">out_edges</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="query">
<em class="property">message </em><tt class="descname">query</tt><a class="headerlink" href="#query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a query.</p>
<dl class="member">
<dt id="query::from_id__s">
0: string <tt class="descname">from_id</tt><a class="headerlink" href="#query::from_id__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="query::to_id__s">
1: string <tt class="descname">to_id</tt><a class="headerlink" href="#query::to_id__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">string</span> <span class="n">from_id</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">to_id</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="preset_query">
<em class="property">message </em><tt class="descname">preset_query</tt><a class="headerlink" href="#preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a preset query.
See the description below for details.</p>
<dl class="member">
<dt id="preset_query::edge_query__l:query:">
0: list&lt;<a class="reference internal" href="#query" title="query">query</a>&gt; <tt class="descname">edge_query</tt><a class="headerlink" href="#preset_query::edge_query__l:query:" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="preset_query::node_query__l:query:">
1: list&lt;<a class="reference internal" href="#query" title="query">query</a>&gt; <tt class="descname">node_query</tt><a class="headerlink" href="#preset_query::node_query__l:query:" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">preset_query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">query</span><span class="o">&gt;</span> <span class="n">edge_query</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">query</span><span class="o">&gt;</span> <span class="n">node_query</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="edge">
<em class="property">message </em><tt class="descname">edge</tt><a class="headerlink" href="#edge" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Represents the edge information.</p>
<dl class="member">
<dt id="edge::property__m:s.s:">
0: map&lt;string, string&gt; <tt class="descname">property</tt><a class="headerlink" href="#edge::property__m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Property information for the edge.</p>
</dd></dl>

<dl class="member">
<dt id="edge::source__s">
1: string <tt class="descname">source</tt><a class="headerlink" href="#edge::source__s" title="Permalink to this definition">¶</a></dt>
<dd><p>ID of the source node that the edge connects.</p>
</dd></dl>

</div></blockquote>
<dl class="member">
<dt id="edge::target__s">
2: string <tt class="descname">target</tt><a class="headerlink" href="#edge::target__s" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>ID of the target node that the edge connects.</div></blockquote>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">edge</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">property</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">source</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">string</span> <span class="n">target</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="message">
<dt id="shortest_path_query">
<em class="property">message </em><tt class="descname">shortest_path_query</tt><a class="headerlink" href="#shortest_path_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a shortest path query information.
See the description of <tt class="docutils literal"><span class="pre">get_shortest_path</span></tt> method for details.</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">shortest_path_query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">string</span> <span class="n">source</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">target</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">uint</span> <span class="n">max_hop</span>
  <span class="mi">3</span><span class="o">:</span> <span class="n">preset_query</span> <span class="n">query</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="usage-of-properties-and-queries">
<h2>Usage of Properties and Queries<a class="headerlink" href="#usage-of-properties-and-queries" title="Permalink to this headline">¶</a></h2>
<p>Properties and Queries are both represented as key-value pair like <tt class="docutils literal"><span class="pre">{</span> <span class="pre">'key'</span> <span class="pre">:</span> <span class="pre">'value',</span> <span class="pre">'key2'</span> <span class="pre">:</span> <span class="pre">'value2',</span> <span class="pre">...</span> <span class="pre">}</span></tt>.
The condition when a query matches to a property is: all keys in a query MUST exist in a property and the corresponding value which belongs to the query and the property MUST match exactly.
The ordering of each key-value in property/query does not matter.</p>
<p>For example, this case matches:</p>
<div class="highlight-python"><pre>query:    { 'key' : 'value' }
property: { 'key' : 'value', 'foo' : 'bar' }</pre>
</div>
<p>This case does not match &#8211; same <tt class="docutils literal"><span class="pre">key</span></tt> but different value:</p>
<div class="highlight-python"><pre>query:    { 'key' : 'wrong' }
property: { 'key' : 'value', 'foo' : 'bar' }</pre>
</div>
<p>This case does not match &#8211; key <tt class="docutils literal"><span class="pre">spam</span></tt> does not exist in <tt class="docutils literal"><span class="pre">property</span></tt>:</p>
<div class="highlight-python"><pre>query:    { 'key' : 'value', 'spam': 'ham' }
property: { 'key' : 'value', 'foo' : 'bar' }</pre>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="service">
<dt>
<em class="property">service </em><tt class="descname">graph</tt></dt>
<dd><dl class="method">
<dt id="graph::create_node">
string <tt class="descname">create_node</tt><big>(</big><big>)</big><a class="headerlink" href="#graph::create_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a node on the graph.
Returns a node ID as string.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_node__s">
bool <tt class="descname">remove_node</tt><big>(</big>0: string <em>node_id</em><big>)</big><a class="headerlink" href="#graph::remove_node__s" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a node <tt class="docutils literal"><span class="pre">node_id</span></tt> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_node__s.m:s.s:">
bool <tt class="descname">update_node</tt><big>(</big>0: string <em>node_id</em>, 1: map&lt;string, string&gt; <em>property</em><big>)</big><a class="headerlink" href="#graph::update_node__s.m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the property of the node <tt class="docutils literal"><span class="pre">node_id</span></tt> to <tt class="docutils literal"><span class="pre">property</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::create_edge__s.edge">
ulong <tt class="descname">create_edge</tt><big>(</big>0: string <em>node_id</em>, 1: <a class="reference internal" href="#edge" title="edge">edge</a> <em>e</em><big>)</big><a class="headerlink" href="#graph::create_edge__s.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a link from <tt class="docutils literal"><span class="pre">e.source</span></tt> to <tt class="docutils literal"><span class="pre">e.target</span></tt>.
Returns a edge ID as an unsigned long integer.</p>
<p>The link has a direction.
For any two nodes, multiple links with the same direction can be created.
In this case, property <tt class="docutils literal"><span class="pre">e.property</span></tt> can be associated to each link (see <tt class="docutils literal"><span class="pre">edge</span></tt>).</p>
<p><tt class="docutils literal"><span class="pre">node_id</span></tt> must be the same value as <tt class="docutils literal"><span class="pre">e.source</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_edge__s.L.edge">
bool <tt class="descname">update_edge</tt><big>(</big>0: string <em>node_id</em>, 1: ulong <em>edge_id</em>, 2: <a class="reference internal" href="#edge" title="edge">edge</a> <em>e</em><big>)</big><a class="headerlink" href="#graph::update_edge__s.L.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing edge <tt class="docutils literal"><span class="pre">edge_id</span></tt> with information <tt class="docutils literal"><span class="pre">e</span></tt>.
Property will be replaced.</p>
<p><tt class="docutils literal"><span class="pre">node_id</span></tt> must be the same value as <tt class="docutils literal"><span class="pre">e.source</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_edge__s.L">
bool <tt class="descname">remove_edge</tt><big>(</big>0: string <em>node_id</em>, 1: ulong <em>edge_id</em><big>)</big><a class="headerlink" href="#graph::remove_edge__s.L" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an edge <tt class="docutils literal"><span class="pre">edge_id</span></tt>.
<tt class="docutils literal"><span class="pre">node_id</span></tt> must be an ID for the source node of the edge <tt class="docutils literal"><span class="pre">edge_id</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_centrality__s.i.preset_query">
double <tt class="descname">get_centrality</tt><big>(</big>0: string <em>node_id</em>, 1: int <em>centrality_type</em>, 2: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::get_centrality__s.i.preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates (gets the computed value) the centrality over the edges that match the preset query <tt class="docutils literal"><span class="pre">query</span></tt>.
The query must be registered beforehand by using <tt class="docutils literal"><span class="pre">add_centrality_query</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">centrality_type</span></tt> is a type of centrality.
Currently, only <tt class="docutils literal"><span class="pre">0</span></tt> (PageRank centrality) can be specified.</p>
<p>Centrality is computed when mix runs, thus there may be a gap between the exact value of centrality and the computed value if there&#8217;re updates not mixed.
See also the description of <tt class="docutils literal"><span class="pre">update_index</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::add_centrality_query__preset_query">
bool <tt class="descname">add_centrality_query</tt><big>(</big>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::add_centrality_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a preset query <tt class="docutils literal"><span class="pre">query</span></tt> to the graph for centrality calculation.</p>
</dd></dl>

<dl class="method">
<dt id="graph::add_shortest_path_query__preset_query">
bool <tt class="descname">add_shortest_path_query</tt><big>(</big>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::add_shortest_path_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a preset query <tt class="docutils literal"><span class="pre">query</span></tt> to the graph for shortest path calculation.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_centrality_query__preset_query">
bool <tt class="descname">remove_centrality_query</tt><big>(</big>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::remove_centrality_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a preset query <tt class="docutils literal"><span class="pre">query</span></tt> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_shortest_path_query__preset_query">
bool <tt class="descname">remove_shortest_path_query</tt><big>(</big>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::remove_shortest_path_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a preset query <tt class="docutils literal"><span class="pre">query</span></tt> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_shortest_path__shortest_path_query">
list&lt;string&gt; <tt class="descname">get_shortest_path</tt><big>(</big>0: <a class="reference internal" href="#shortest_path_query" title="shortest_path_query">shortest_path_query</a> <em>query</em><big>)</big><a class="headerlink" href="#graph::get_shortest_path__shortest_path_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates (from the precomputed data) a shortest path from <tt class="docutils literal"><span class="pre">query.source</span></tt> to <tt class="docutils literal"><span class="pre">query.target</span></tt> that matches the preset query.
The query must be registered beforehand by using <tt class="docutils literal"><span class="pre">add_shortest_path_query</span></tt>.
Returns a list of node IDs that represents a path from <tt class="docutils literal"><span class="pre">query.source</span></tt> to <tt class="docutils literal"><span class="pre">query.target</span></tt>.</p>
<p>If the shortest path from <tt class="docutils literal"><span class="pre">query.source</span></tt> to <tt class="docutils literal"><span class="pre">query.target</span></tt> cannot be found within <tt class="docutils literal"><span class="pre">query.max_hop</span></tt> hops, the result will be truncated.</p>
<p>Path-index tree may have a gap between the exact path and the computed path when in a distributed setup.
See also the description of <tt class="docutils literal"><span class="pre">update_index</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_index">
bool <tt class="descname">update_index</tt><big>(</big><big>)</big><a class="headerlink" href="#graph::update_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs mix locally. <strong>Do not use in distributed mode</strong>.</p>
<p>Some functions like <tt class="docutils literal"><span class="pre">get_centrality</span></tt> and <tt class="docutils literal"><span class="pre">get_shortest_path</span></tt> uses an index that is updated in the mix operation.
In a standalone mode, mix is not automatically called thus users must call this API by themselves.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_node__s">
<a class="reference internal" href="#node" title="node">node</a> <tt class="descname">get_node</tt><big>(</big>0: string <em>node_id</em><big>)</big><a class="headerlink" href="#graph::get_node__s" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <tt class="docutils literal"><span class="pre">node</span></tt> for a node <tt class="docutils literal"><span class="pre">node_id</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_edge__s.L">
<a class="reference internal" href="#edge" title="edge">edge</a> <tt class="descname">get_edge</tt><big>(</big>0: string <em>node_id</em>, 1: ulong <em>edge_id</em><big>)</big><a class="headerlink" href="#graph::get_edge__s.L" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <tt class="docutils literal"><span class="pre">edge</span></tt> of an edge <tt class="docutils literal"><span class="pre">edge_id</span></tt>.
<tt class="docutils literal"><span class="pre">node_id</span></tt> is an ID for the source node of the edge <tt class="docutils literal"><span class="pre">edge_id</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011,2013 PFI &amp; NTT.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>