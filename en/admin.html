
  
  
 
  
 


<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cluster Administration Guide &mdash; Jubatus</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Jubatus" href="index.html" />
    <link rel="up" title="Documentation" href="documentation.html" />
    <link rel="next" title="Building Jubatus from Source" href="build.html" />
    <link rel="prev" title="Plugin Development" href="plugin.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">Jubatus</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_distributed.html">Setup in Distributed Mode</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtocontribute.html">How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="aboutus.html">About Us</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Cluster Administration Guide</a><ul>
<li><a class="reference internal" href="#recommended-process-configuration">Recommended Process Configuration</a><ul>
<li><a class="reference internal" href="#jubatus-proxies">Jubatus Proxies</a></li>
<li><a class="reference internal" href="#jubatus-servers">Jubatus Servers</a></li>
<li><a class="reference internal" href="#zookeeper">ZooKeeper</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-clusters">Managing Clusters</a></li>
<li><a class="reference internal" href="#monitoring">Monitoring</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#save-and-load">Save and Load</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="plugin.html"
         title="Previous Chapter: Plugin Development">&laquo; Plugin Developme...</a></li>
  <li><a href="build.html"
         title="Next Chapter: Building Jubatus from Source">Building Jubatus... &raquo;</a></li>
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="_sources/admin.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="cluster-administration-guide">
<h1>Cluster Administration Guide<a class="headerlink" href="#cluster-administration-guide" title="Permalink to this headline">¶</a></h1>
<p>This page describes how to administer a Jubatus cluster.</p>
<div class="section" id="recommended-process-configuration">
<h2>Recommended Process Configuration<a class="headerlink" href="#recommended-process-configuration" title="Permalink to this headline">¶</a></h2>
<p>For reliable Jubatus service, you should run Jubatus in a distributed environment.
Additionally, to ensure high performance, you should carefully plan the process configuration of Jubatus servers and processes that Jubatus depends on.</p>
<p>This is the process configuration that we recommend.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/process_configuration.png"><img alt="process configuration" src="_images/process_configuration.png" style="width: 90%;" /></a>
</div>
<div class="section" id="jubatus-proxies">
<h3>Jubatus Proxies<a class="headerlink" href="#jubatus-proxies" title="Permalink to this headline">¶</a></h3>
<p>To keep operation and implementation of the client application simple, we recommend assigning one Jubatus Proxy for each instance of the application.</p>
<p>In case that the client application cannot connect to the Jubatus Proxy (e.g., the Jubatus Proxy is down), it is necessary to consider the way to recover, depending on your requirement of service. For example:</p>
<ol class="arabic simple">
<li>Monitor the Jubatus Proxy processes. When the Jubatus Proxy goes down, block the access to the application from users.</li>
<li>Switch over to another Jubatus Proxy.</li>
</ol>
</div>
<div class="section" id="jubatus-servers">
<h3>Jubatus Servers<a class="headerlink" href="#jubatus-servers" title="Permalink to this headline">¶</a></h3>
<p>If you set the same name using <tt class="docutils literal"><span class="pre">--name</span></tt> option, processes collaborate with one another. As long as one of processes is running, Jubatus service is available.</p>
<p>In the figure above, processes is distributed on <tt class="docutils literal"><span class="pre">N</span> <span class="pre">+</span> <span class="pre">1</span></tt> machines. Even when a failure occurs in <tt class="docutils literal"><span class="pre">N</span></tt> of machines, all of instances are available.</p>
<p>Jubatus processes all data in memory. In order to prevent the lack of resources (especially memory), you should pay to attention to the placement of the process.</p>
</div>
<div class="section" id="zookeeper">
<h3>ZooKeeper<a class="headerlink" href="#zookeeper" title="Permalink to this headline">¶</a></h3>
<p>When running Jubatus in a distributed environment, it is a fatal condition that ZooKeeper is not available. For reliable ZooKeeper service, you should note the following:</p>
<ol class="arabic simple">
<li>Deploy ZooKeeper in a cluster (an ensemble) using an odd number of machines.</li>
<li>To avoid degradation of performance and stability, deploy ZooKeeper on a dedicated machine.</li>
</ol>
<p>For details, See <a class="reference external" href="http://zookeeper.apache.org/doc/current/">the documentation of ZooKeeper</a>.</p>
</div>
</div>
<div class="section" id="managing-clusters">
<h2>Managing Clusters<a class="headerlink" href="#managing-clusters" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="monitoring">
<h2>Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="save-and-load">
<h2>Save and Load<a class="headerlink" href="#save-and-load" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011,2013 PFI &amp; NTT.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>